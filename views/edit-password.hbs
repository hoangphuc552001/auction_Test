<!------ Include the above in your HEAD tag ---------->
{{#section 'js'}}

    <script>
        $('#announce-modal').on('hide.bs.modal show.bs.modal', function (event) {
            var $activeElement = $(document.activeElement);
            if ($activeElement.is('[data-toggle], [data-dismiss]')) {
                if (event.type === 'hide') {
                    if ($activeElement[0].id === "confirm") {
                        var currentpw = document.getElementById('txtNewpw').value;

                        if (currentpw == null || currentpw === "" ){
                            $('#error').html("Invalid input");
                            $('#error-modal').modal('show');
                        }
                        else document.getElementById('frmEditpassword').submit();
                    }
                }
                if (event.type === 'show') {
                    $('#announce').html("Are you sure to change password?");
                }
            }
        });

    </script>
{{/section}}
{{#section 'css'}}
    <style>
        .pass_show {
            position: relative
        }

        .pass_show .ptxt {

            position: absolute;

            top: 50%;

            right: 10px;

            z-index: 1;

            color: #f36c01;

            margin-top: -10px;

            cursor: pointer;

            transition: .3s ease all;

        }

        .pass_show .ptxt:hover {
            color: #333333;
        }
    </style>
{{/section}}



<main>
    <form id="frmEditpassword" method="post">
        <div class="container bootstrap snippets bootdey">
            <h1 class="text-primary">Change User's Password</h1>
            <hr/>
            <div class="row">
                <!-- left column -->
                <div class="col-md-3">
                    <div class="text-center">
                        <img
                                src="https://cdn-icons-png.flaticon.com/512/147/147144.png"
                                class="avatar img-circle img-thumbnail"
                                alt="avatar"
                                width="150px" ,
                                height="150px"
                        />
                    </div>
                </div>

                <!-- edit form column -->
                <div class="col-md-9 personal-info">

                    <form class="form-horizontal" role="form">
                        <div class="container">
                            <div class="row">
                                <div class="col-sm-4">
                                   
                                    <label>Enter password</label>
                            
                                </div>
                                <div>
                                    <div class="form-group pass_show">
                                        <input type="password"
                                               id="txtNewpw" placeholder="New password" name="txtPassword">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="btn-group ml-3 mr-1" role="group" aria-label="Basic example">
                            <button  data-toggle="modal" data-target="#announce-modal" type="button" class="btn btn-info">Save</button>
                        </div>
                        <div class="btn-group ml-3" role="group" aria-label="Basic example">
                            <a class="btn btn-danger"
                               href="/admin/user" role="button">
                                Cancel
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <hr/>
        <div class="modal fade" id="announce-modal" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form class="form-horizontal" id="announce-form">
                        <div class="modal-header">
                            <h6 class="modal-title">GPA Online Auction</h6>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body py-0" id="announce" style="white-space: pre;">
                        </div>
                        <div class="modal-footer py-0">
                            <button data-dismiss="modal" class="btn btn-danger btn-sm" id="confirm">
                                Confirm
                            </button>
                            <button data-dismiss="modal" class="btn btn-default btn-sm border"
                                    id="cancel">Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="modal fade" id="error-modal" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form class="form-horizontal">
                        <div class="modal-header">
                            <h6 class="modal-title">GPA Online Auction</h6>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body py-0">
                            <p class="my-0" id="error"
                               style="white-space: pre-line;">{{{ ../announce}}}</p>
                        </div>
                        <div class="modal-footer py-0">
                            <button data-dismiss="modal" class="btn btn-danger btn-sm">Confirm</button>
                            <button data-dismiss="modal" class="btn btn-default btn-sm border">Cancel
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </form>

</main>
